buildscript {
  repositories {
    jcenter()

    maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }
  }

  dependencies {
    classpath 'com.android.tools.build:gradle:2.1.2'
    classpath 'com.dicedmelon.gradle:jacoco-android:0.1.1'
    classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'

    classpath 'com.novoda:bintray-release:0.3.4'
    classpath 'com.github.sherter.googlejavaformatgradleplugin:google-java-format-gradle-plugin:0.4-SNAPSHOT'
  }
}

repositories {
  jcenter()
}

apply plugin: 'com.android.library'
apply plugin: 'bintray-release'
apply plugin: 'jacoco-android'

apply plugin: 'com.github.sherter.google-java-format'

android {
  compileSdkVersion 24
  buildToolsVersion '24.0.0'

  buildTypes {
    debug {
      testCoverageEnabled true
    }
  }

  defaultConfig {
    minSdkVersion 14
    targetSdkVersion 24

    versionCode 1
    versionName project.version
  }

  dexOptions {
    incremental true
    javaMaxHeapSize "4g"
  }

  lintOptions {
    abortOnError false
    checkReleaseBuilds false
    disable 'InvalidPackage'
  }
}

dependencies {
  compile fileTree(dir: 'libs', include: ['*.jar'])
  compile 'com.firebase:firebase-client-android:2.5.2'

  compile 'io.reactivex:rxjava:1.1.8'

  testCompile 'junit:junit:4.12'
  testCompile 'org.mockito:mockito-core:1.10.19'
}

publish {
  userOrg = 'ashdavies'
  groupId = 'io.ashdavies'
  artifactId = 'rxfirebase'

  version = project.version
  description = 'RxFirebase'
  website = 'https://github.com/ashdavies/rxfirebase'
}
